webpackJsonp([1],[,,,,,function(t,e,i){"use strict";var n="http://musicapi.duapp.com/api.php",a="https://api.imjad.cn/cloudmusic/";e.a={getPlayListByWhere:function(t,e,i,a,s){return n+"?type=topPlayList&cat="+t+"&offset="+i+"&limit="+s},getLrc:function(t){return a+"?type=lyric&id="+t},getSong:function(t){return n+"?type=url&id="+t},getPlayListDetail:function(t){return a+"?type=playlist&id="+t},getMv:function(t){return a+"?type=mv&id="+t},search:function(t){return a+"?type=search&s="+t}}},,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(2),a=i(108),s=i(100),r=i.n(s);n.default.use(a.a),e.a=new a.a({routes:[{path:"/",name:"index",component:r.a,children:[{path:"rage",component:i(98)}]},{name:"songList",path:"/songList/:id",component:i(99)},{path:"*",redirect:"/rage"}]})},function(t,e,i){"use strict";var n=i(2),a=i(3),s=i(10),r=i.n(s),o=i(5);n.default.use(a.c);var u=new a.c.Store({state:{audio:{id:0,name:"歌曲名称",singer:"演唱者",albumPic:"./static/player-bar.png",location:"",album:""},lyric:"",currentIndex:0,playing:!1,loading:!1,showDetail:!1,songList:[],currentTime:0,tmpCurrentTime:0,durationTime:0,bufferedTime:0,change:!1},getters:{audio:function(t){return t.audio},playing:function(t){return t.playing},loading:function(t){return t.loading},showDetail:function(t){return t.showDetail},durationTime:function(t){return t.durationTime},currentIndex:function(t){return t.currentIndex},bufferedTime:function(t){return t.bufferedTime},tmpCurrentTime:function(t){return t.tmpCurrentTime},songList:function(t){return t.songList},change:function(t){return t.change},currentTime:function(t){return t.currentTime},prCurrentTime:function(t){return t.currentTime/t.durationTime*100},prBufferedTime:function(t){return t.bufferedTime/t.durationTime*100}},mutations:{play:function(t){t.playing=!0},pause:function(t){t.playing=!1},setAudio:function(t){t.audio=t.songList[t.currentIndex-1]},setChange:function(t,e){t.change=e},setLocation:function(t,e){t.audio.location=e},updateCurrentTime:function(t,e){t.currentTime=e},updateDurationTime:function(t,e){t.durationTime=e},updateBufferedTime:function(t,e){t.bufferedTime=e},changeTime:function(t,e){t.tmpCurrentTime=e},openLoading:function(t){t.loading=!0},closeLoading:function(t){t.loading=!1},resetAudio:function(t){t.currentTime=0},playNext:function(t){t.currentIndex++,t.currentIndex>t.songList.length&&(t.currentIndex=1),t.audio=t.songList[t.currentIndex-1]},playPrev:function(t){t.currentIndex--,t.currentIndex<1&&(t.currentIndex=t.songList.length),t.audio=t.songList[t.currentIndex-1]},addToList:function(t,e){t.songList.push(e),t.currentIndex=t.songList.length},setLrc:function(t,e){t.lyric=e}},actions:{getSong:function(t,e){var i=t.commit;t.state;i("openLoading"),r.a.get(o.a.getSong(e)).then(function(t){var e=t.data.data[0].url;i("setAudio"),i("setLocation",e)}).catch(function(t){console.log(t),window.alert("获取歌曲信息出错！")})}}});e.a=u},function(t,e){},function(t,e){},,function(t,e,i){i(90);var n=i(1)(i(50),i(106),null,null);t.exports=n.exports},,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"swiper-slide",data:function(){return{slideClass:"swiper-slide"}},ready:function(){this.update()},mounted:function(){this.update(),this.$parent.options.slideClass&&(this.slideClass=this.$parent.options.slideClass)},updated:function(){this.update()},attached:function(){this.update()},methods:{update:function(){this.$parent&&this.$parent.swiper&&this.$parent.swiper.update&&(this.$parent.swiper.update(!0),this.$parent.options.loop&&this.$parent.swiper.reLoop())}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="undefined"!=typeof window;n&&(window.Swiper=i(23),i(86)),e.default={name:"swiper",props:{options:{type:Object,default:function(){return{autoplay:3500}}}},data:function(){return{defaultSwiperClasses:{wrapperClass:"swiper-wrapper"}}},ready:function(){!this.swiper&&n&&(this.swiper=new Swiper(this.$el,this.options))},mounted:function(){var t=this,e=function(){if(!t.swiper&&n){delete t.options.notNextTick;var e=!1;for(var i in t.defaultSwiperClasses)t.defaultSwiperClasses.hasOwnProperty(i)&&t.options[i]&&(e=!0,t.defaultSwiperClasses[i]=t.options[i]);var a=function(){t.swiper=new Swiper(t.$el,t.options)};e?t.$nextTick(a):a()}};this.options.notNextTick?e():this.$nextTick(e)},updated:function(){this.swiper&&this.swiper.update()},beforeDestroy:function(){this.swiper&&(this.swiper.destroy(),delete this.swiper)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(16),a=i.n(n),s=i(97),r=i.n(s),o=i(3);e.default={name:"app",components:{Player:r.a},computed:a()({},i.i(o.a)(["songList","showDetail"]))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(16),a=i.n(n),s=i(3);e.default={data:function(){return{loadedTime:0,playerTime:0}},methods:a()({},i.i(s.b)(["play","pause","playNext"]),{canPlaySong:function(){this.$store.commit("closeLoading"),this.$store.commit("play"),document.getElementById("audioPlay").play()},toggleStatus:function(){this.playing?(document.getElementById("audioPlay").pause(),this.$store.commit("pause")):(document.getElementById("audioPlay").play(),this.$store.commit("play"))},loadError:function(){document.getElementById("audioPlay").currentSrc?(this.$refs.toast.show("歌曲路径加载出错"),this.loading=!1,this.$store.commit("closeLoading")):console.log("APP 程序第一次加载")},next:function(){this.toggleStatus(),this.$store.commit("playNext")},updateTime:function(){var t=this,e=document.getElementById("audioPlay"),i=parseInt(e.currentTime);e.onsuspend=function(){e.buffered.length>0&&e.duration>0&&t.$store.commit("updateBufferedTime",parseInt(e.buffered.end(0)))},t.$store.commit("updateDurationTime",parseInt(e.duration)),this.change?(e.currentTime=this.tmpCurrentTime,this.$store.commit("setChange",!1)):this.$store.commit("updateCurrentTime",i)}}),computed:a()({},i.i(s.a)(["audio","change","playing","loading","currentTime","prBufferedTime","tmpCurrentTime","prCurrentTime"]))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),a=i(94);i.n(a);e.default={data:function(){return{swiperOption:{pagination:".swiper-pagination",paginationClickable:!0,autoplay:5e3,loop:!0},isloding:!0,playList:[],mvList:[]}},components:{swiper:a.swiper,swiperSlide:a.swiperSlide},created:function(){this.get()},methods:{get:function(){var t=this;this.$http.get(n.a.getPlayListByWhere("全部","hot",0,!0,6)).then(function(e){t.isloding=!1,t.playList=e.data.playlists}).catch(function(t){console.log(t)})}},filters:{formatCount:function(t){return t>9999?(t/1e4).toFixed(0)+"万":t}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),a=(i(3),this);e.default={data:function(){return{coverImgUrl:"../../static/default_cover.png",name:"歌单标题",id:0,fname:"歌单",playCount:0,description:"描述描述",creator:{avatarUrl:"../../static/user-default.png",nickname:"昵称"},list:[],opacity:0,value:0,isloading:!1}},beforeRouteEnter:function(t,e,i){i(function(e){parseInt(t.params.id)!==parseInt(e.id)&&(console.log(t.params.id),e.get()),t.params.coverImg&&(e.coverImgUrl=e.$route.params.coverImg,e.name=e.$route.params.name,e.description=e.$route.params.desc,e.playCount=e.$route.params.count,e.creator=e.$route.params.creator,e.id=e.$route.params.id,console(a.id))})},methods:{get:function(){var t=this;this.isloading=!0,this.$http.get(n.a.getPlayListDetail(this.$route.params.id)).then(function(e){t.list=e.data.playlist.tracks,t.isloading=!1,console.log(t.list)}).catch(function(t){console.log("加载歌单信息出错:"+t)})},change:function(t){this.value=t},playAudio:function(t){document.getElementById("audioPlay").pause(),this.$store.commit("pause");var e={};e.id=t.id,e.singer=t.ar[0].name,e.albumPic=t.al.picUrl,e.name=t.name,this.$store.commit("addToList",e),this.$store.dispatch("getSong",e.id)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{activeTab:"rage"}},methods:{handleTabChange:function(t){this.activeTab=t,this.newRouter(t)},newRouter:function(t){this.$router.push({path:"/"+t})}},created:function(){this.newRouter(this.activeTab)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),a=i(30),s=i.n(a),r=i(25),o=i(29),u=i.n(o),c=i(27),l=(i.n(c),i(28)),d=(i.n(l),i(10)),p=i.n(d),m=i(26);n.default.use(u.a),n.default.prototype.$http=p.a,n.default.config.productionTip=!1,new n.default({el:"#app",router:r.a,store:m.a,template:"<App/>",components:{App:s.a}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,function(t,e,i){var n=i(1)(i(48),i(101),null,null);t.exports=n.exports},function(t,e,i){var n=i(1)(i(49),i(103),null,null);t.exports=n.exports},function(t,e,i){i(88);var n=i(1)(i(51),i(104),null,null);t.exports=n.exports},function(t,e,i){i(89);var n=i(1)(i(52),i(105),"data-v-8231fc26",null);t.exports=n.exports},function(t,e,i){i(91);var n=i(1)(i(53),i(107),null,null);t.exports=n.exports},function(t,e,i){i(87);var n=i(1)(i(54),i(102),"data-v-66ae0990",null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.slideClass},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"fix-bar"},[i("mu-appbar",[i("span",{staticClass:"title"},[t._v("网易云音乐")]),t._v(" "),i("mu-icon",{attrs:{value:"search",color:"white"}})],1),t._v(" "),i("mu-tabs",{staticClass:"view-tabs",attrs:{value:t.activeTab},on:{change:t.handleTabChange}},[i("mu-tab",{attrs:{value:"rage",title:"时下流行"}}),t._v(" "),i("mu-tab",{attrs:{value:"songList",title:"歌单"}}),t._v(" "),i("mu-tab",{attrs:{value:"leaderBoard",title:"排行榜"}}),t._v(" "),i("mu-tab",{attrs:{value:"hotSinger",title:"热门歌手"}})],1),t._v(" "),i("div",{staticClass:"content"},[i("keep-alive",[i("router-view")],1)],1)],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"swiper-container"},[t._t("parallax-bg"),t._v(" "),i("div",{class:t.defaultSwiperClasses.wrapperClass},[t._t("default")],2),t._v(" "),t._t("pagination"),t._v(" "),t._t("button-prev"),t._v(" "),t._t("button-next"),t._v(" "),t._t("scrollbar")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"foot"},[i("div",{staticClass:"player-mini"},[i("div",{staticClass:"mini-content"},[i("audio",{attrs:{src:t.audio.location,id:"audioPlay"},on:{timeupdate:t.updateTime,canplay:t.canPlaySong,error:t.loadError,ended:t.next}}),t._v(" "),i("div",{staticClass:"cover",on:{click:t.showDetail}},[i("mu-circular-progress",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{size:30}}),t._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"xmplogo",attrs:{src:t.audio.albumPic+"?param=100y100",alt:t.audio.name}})],1),t._v(" "),i("div",{staticClass:"info"},[i("div",{staticClass:"name xmpname"},[t._v(t._s(t.audio.name))]),t._v(" "),i("div",{staticClass:"artist xmpartist"},[t._v(t._s(t.audio.singer))])]),t._v(" "),i("div",{staticClass:"control"},[i("mu-icon-button",{staticClass:"mini-btn player-list",on:{click:t.showList}}),t._v(" "),i("mu-icon-button",{staticClass:"mini-btn player",class:{pause:t.playing},on:{click:t.toggleStatus}}),t._v(" "),i("mu-icon-button",{staticClass:"mini-btn next",on:{click:t.next}})],1),t._v(" "),i("div",{staticClass:"pro"},[i("div",{staticClass:"pro-load proload",style:{"-webkit-transform":"translateX("+t.prBufferedTime+"%)"}}),t._v(" "),i("div",{staticClass:"pro-play proplay",style:{"-webkit-transform":"translateX("+t.prCurrentTime+"%)"}})])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"slider"},[i("swiper",{attrs:{options:t.swiperOption}},[i("swiper-slide",[i("img",{staticClass:"banner-item",attrs:{src:"/static/banner1.jpg",alt:""}})]),t._v(" "),i("swiper-slide",[i("img",{staticClass:"banner-item",attrs:{src:"/static/banner2.jpg",alt:""}})]),t._v(" "),i("swiper-slide",[i("img",{staticClass:"banner-item",attrs:{src:"/static/banner3.jpg",alt:""}})]),t._v(" "),i("swiper-slide",[i("img",{staticClass:"banner-item",attrs:{src:"/static/banner4.jpg",alt:""}})]),t._v(" "),i("div",{staticClass:"swiper-pagination",slot:"pagination"})],1)],1),t._v(" "),i("div",{staticClass:"wrapper"},[i("div",{staticClass:"list-head"},[i("router-link",{attrs:{to:{path:"/songList"}}},[t._v("推荐歌单"),i("mu-icon",{attrs:{value:"keyboard_arrow_right",color:"red"}})],1)],1),t._v(" "),i("mu-flexbox",{staticClass:"box",attrs:{wrap:"wrap",justify:"space-between"}},t._l(t.playList,function(e){return i("mu-flexbox-item",{key:e.id,staticClass:"item",attrs:{basis:"30%"}},[i("router-link",{attrs:{to:{name:"songList",params:{id:e.id,name:e.name,coverImg:e.coverImgUrl,creator:e.creator,count:e.playCount,desc:e.description}}}},[i("div",{staticClass:"count-bar"},[t._v(t._s(t._f("formatCount")(e.playCount)))]),t._v(" "),i("img",{attrs:{src:e.coverImgUrl+"?param=230y230"}}),t._v(" "),i("div",{staticClass:"item-name"},[t._v(t._s(e.name))])])],1)}))],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("keep-alive",[i("router-view")],1),t._v(" "),i("Player",{directives:[{name:"show",rawName:"v-show",value:t.songList.length>0&&!t.showDetail,expression:"songList.length > 0 && !showDetail"}]})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isloading,expression:"isloading"}],staticClass:"loading"},[i("mu-circular-progress",{attrs:{size:90,color:"red"}})],1),t._v(" "),i("div",{staticClass:"head"},[i("router-link",{attrs:{to:{path:"/rage"}}},[i("mu-icon",{attrs:{value:"keyboard_arrow_left",color:"white"}}),i("span",[t._v("返回")])],1),t._v(" "),i("div",{staticClass:"head-info"},[i("div",{staticClass:"left-info"},[i("span",[t._v(t._s(t.playCount))]),t._v(" "),i("img",{attrs:{src:t.coverImgUrl+"?param=300y300"}})]),t._v(" "),i("div",{staticClass:"right-info"},[i("p",[t._v(t._s(t.name))]),t._v(" "),i("p",{staticClass:"author"},[i("mu-avatar",{attrs:{src:t.creator.avatarUrl+"?param=50y50",size:60,iconSize:20},slot:"left"}),t._v(" "),i("span",[t._v(t._s(t.creator.nickname))])],1)])]),t._v(" "),i("div",{staticClass:"clear"}),t._v(" "),i("div",{staticClass:"bg-mask",style:{"background-image":"url("+t.coverImgUrl+"?param=300y300)"}})],1),t._v(" "),i("mu-list",{directives:[{name:"show",rawName:"v-show",value:!t.isloading,expression:"!isloading"}],attrs:{value:t.value},on:{change:t.change}},t._l(t.list,function(e,n){return i("div",{on:{click:function(i){t.playAudio(e)}}},[i("mu-list-item",{staticClass:"item",style:{"font-size":"30px"},attrs:{disableRipple:!0,title:e.name,value:e.id,describeText:e.ar[0].name}},[i("span",{staticClass:"indexStyle",slot:"left"},[t._v(t._s(n+1))])]),t._v(" "),i("mu-divider",{attrs:{inset:""}})],1)}))],1)},staticRenderFns:[]}}],[55]);
//# sourceMappingURL=app.6f2ac1bc4f718236dedc.js.map